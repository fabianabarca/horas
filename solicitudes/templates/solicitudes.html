{% extends 'base.html' %} {% load crispy_forms_tags %} {% block main %}

<div class="container">
</br>
  <h1>Solicitudes</h1>
  <a href="solicitudes\crear_solicitud" class="btn btn-info" role="button">Agregar Solicitud</a>
</br>
</br>
  {% if solicitudes %}
  <table class="table table-bordered">
    <thead class="thead">
      <tr>
        <th scope="col">Tipo</th>
        <th scope="col">Motivo</th>
        <th scope="col">Fecha</th>
        {% if request.user.is_staff %}
        <th scope="col">Estudiante</th>
        {% endif %}
        <th scope="col">Estado</th>
      </tr>
    </thead>
    <tbody>
      {% for solicitud in solicitudes %}
      <tr>
        <td>{{ solicitud.get_tipo_display }}</td>
        <td>{{ solicitud.motivo }}</td>
        <td>{{ solicitud.fecha }}</td>
        {% if request.user.is_staff %}
        <td>{{ solicitud.estudiante.user.username}}</td>
        {% endif %}
        <td>{{ solicitud.get_estado_display}}</td>
      </tr>
      {% endfor %}
  </tbody>
    </table>
    {% else %}
  <strong>No hay solicitudes creadas</strong>
{% endif %}
</div>
{% endblock %}
