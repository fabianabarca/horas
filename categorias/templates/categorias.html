{% extends 'base.html' %} {% load crispy_forms_tags %} {% block main %}  {% load static %}
<div class="container">
</br>
  <!-- Título -->
  <h1 class="display-4">Categorias</h1>
  <p>
    Pueden haber multiples categorias por proyecto.
  </p>
  {% if request.user.is_staff %}
      <a href="crear_categoria" type="button" class="btn bg-gradient-primary"><i class="fas fa-plus-circle"></i>Agregar Categoria</a>
  {% endif %}
</br>
</br>

<!-- Lista de categorias -->
<form method="post">{% csrf_token %}

  {% if categorias %}
  <h6 class="text-uppercase font-weight-bolder opacity-6">Lista de categorias</h6>
  
   <!-- Tabla -->
  <div class="table-responsive">
    <table id="datatable" class="table align-items-center table-hover">
    <thead class="thead">
      <tr>
        {% if request.user.is_staff %}
            <th scope="col"></th>
        {% endif %}
        <th scope="col">Nombre</th>

      </tr>
    </thead>
    <tbody>
      {% for categoria in categorias %}
        {% if not categoria.enPapelera %}
          <tr>
            {% if request.user.is_staff %}
              <td>
                <!-- Checkbox -->
                <input type="checkbox" name="inputs" value="{{categoria.id}}" /> <br>
      
                  <!-- Edit button -->
                  <a   href="editar_categoria/{{ categoria.id }}" class="text-info" role="button">
                    <i class="fas fa-edit"></i>
                  </a>
      
                  <!-- Delete button -->
                  <button onclick="return confirm('Está seguro de borrar?')"  type="submit" 
                  class="text-danger" value="{{ categoria.id }}"  name="deleteButton"
                  style="background-color: transparent;  border: 0;">              
                  <i class="fas fa-trash-alt"></i>
                  </button>
                
              </td>
            {% endif %}
            <td>{{ categoria }}</td>
            
          </tr>
        {% endif %}
      {% endfor %}
  </tbody>
    </table>
  </div>
    {% else %}
  <strong>No hay categorias registrados</strong>
{% endif %}
</form>
</div>
{% endblock %}



