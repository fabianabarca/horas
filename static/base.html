{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Tema Soft-UI -->

    <!-- Bootstrap -->
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>

    <!-- CSS -->
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <!-- Icons -->
    <link href="{% static 'css/nucleo-icons.css' %}" rel="stylesheet" />
    <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <!-- CSS Files -->
    <link id="pagestyle" href="{% static 'css/soft-ui-dashboard.css' %}" rel="stylesheet" />
    
    <!-- Tema Soft-UI -->

    <!-- Tema viejo
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" />
    
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script
      type="text/javascript"
      src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
    ></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.11.1/css/jquery.dataTables.css"
    />
    <script
      type="text/javascript"
      charset="utf8"
      src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.js"
    ></script>
    -->
  </head>
  <body>
    <!--Navbar-->
    <nav class="navbar navbar-expand-sm bg-primary navbar-dark">
      <a class="navbar-brand" href="#">Registro de Actividades TCU-691</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarText"
        aria-controls="navbarText"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarText">
        {% if user.is_authenticated %}
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="">Actividades</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/tareas/">Tareas</a>
          </li>
          {% if request.user.is_staff %}
          <li class="nav-item">
            <a class="nav-link" href="/proyectos/">Proyectos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/categorias/">Categorías</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/estudiantes/">Estudiantes</a>
          </li>
          {% endif %}
          <li class="nav-item">
            <a class="nav-link" href="/solicitudes/">Solicitudes</a>
          </li>
        </ul>
        <ul class="navbar-nav ml-auto">
          <span class="navbar-text"> Bienvenido, {{user.username}} </span>
          <li class="nav-item">
            <a class="nav-link" href="cuentas/logout/">Logout</a>
          </li>
        </ul>
      </div>
    </nav>
    
    {% block main %} {% endblock %} {% endif %}
  
    <!-- Tema Soft-UI -->
    
    <!-- JavaScript -->
    <!-- Core -->
    <script src="{% static 'js/core/popper.min.js' %}"></script>
    <script src="{% static 'js/core/bootstrap.min.js' %}"></script>
    <!-- Theme JS -->
    <script src="{% static 'js/soft-ui-dashboard.min.js' %}"></script>

    <!-- Tema Soft-UI -->

  
  </body>
  <script type="text/javascript">
    
    // Select all check boxes : Setting the checked property to true in checkAll() function
    function checkAll() {
      var items = document.getElementsByName("inputs");
      for (var i = 0; i < items.length; i++) {
        if (items[i].type == "checkbox") items[i].checked = true;
      }
    }
    // Clear all check boxes : Setting the checked property to false in uncheckAll() function
    function uncheckAll() {
      var items = document.getElementsByName("inputs");
      for (var i = 0; i < items.length; i++) {
        if (items[i].type == "checkbox") items[i].checked = false;
      }
    }

    function toggleCheck() {
      var items = document.getElementsByName("inputs");
      var checktoggle = false;
      var checkBoxCounter = 0;
      var checkCounter = 0;
      for (var i = 0; i < items.length; i++) {

        if (items[i].type == "checkbox") {
          checkBoxCounter++;
          if (items[i].checked == true){
            checkCounter++;
          } 
        }
        console.log(checkBoxCounter);
        console.log(checkCounter);

      }
      if(checkCounter>0  && checkCounter<checkBoxCounter){
          checkAll();
      }

      if(checkCounter==checkBoxCounter){
          uncheckAll();
      }

      if(checkCounter==0){
          checkAll();
      }
    }

    function esconderFiltros() {
      var x = document.getElementById("filtrosdiv");
      if (x.style.display === "none") {
        x.style.display = "block";
      } else {
        x.style.display = "none";
      }
    }

    function borrarRegistro(value){
      Entry.objects.all();
      console.log(value);
    }

    $(document).ready(function () {
      $("#datatable").DataTable({
        language: {
          lengthMenu: "Mostrar _MENU_ filas por página",
          zeroRecords: "No hay datos disponibles",
          info: "Mostrando página _PAGE_ de _PAGES_",
          infoEmpty: "No hay datos disponibles",
          infoFiltered: "(filtrado de _MAX_ total filas)",
          loadingRecords: "Cargando...",
          processing: "Procesando...",
          search: "Buscar:",
          paginate: {
            first: "Primero",
            last: "Último",
            next: "Siguiente",
            previous: "Anterior",
          },
        },
      });
    });
  </script>
</html>
