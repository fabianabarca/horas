{% extends 'base.html' %} {% load crispy_forms_tags %} {% block main %} {% load static %}

<div class="container">
    </br>
    <h1>Página de registro de horas</h1>
    </br>
    Usuario: {{user.username}} <br>
    Nombre: {{user.first_name}} <br>
    Apellido: {{user.last_name}} <br>
    <br>
    <br>
    {% if request.user.is_staff %}
    Cantidad de estudiante activos: <br>
    Cantidad de proyectos: <br>

    {% endif %}


    
{% if not request.user.is_staff %}
<h2>Progreso de horas</h2>
</br>

  <div class="progress-wrapper">
    <div class="progress-info">
      <div class="progress-percentage">
        <span class="text-sm font-weight-bold">{{ progreso }} horas de 300</span>
      </div>
    </div>
    <div class="progress">
      <div class="progress-bar bg-gradient-primary" role="progressbar" aria-valuenow="66.0" aria-valuemin="0" aria-valuemax="100" style="width: 66.0%;">
       
      </div>
      {{width}} %
    </div>
    
  </div>
</br>


<h2>Dias desde inicio del TCU</h2>
</br>

  <div class="progress-wrapper">
    <div class="progress-info">
      <div class="progress-percentage">
        <span class="text-sm font-weight-bold">Fecha Inicio TCU:          {{ inicioTCU }} </span> </br>
        <span class="text-sm font-weight-bold">Fecha Finalización TCU:    {{ finalTCU }} </span> </br></br>
        <span class="text-sm font-weight-bold">{{ diasTCU }} dias de {{ totalDiasTCU }}</span>
      </div>
    </div>
    <div class="progress">
      <div class="progress-bar bg-gradient-primary" role="progressbar" aria-valuenow="66.0" aria-valuemin="0" aria-valuemax="100" style="width: 66.0%;">
       
    </div>
    {{porcentajeWidthDaysYear}}%
    </div>
    
  </div>
</br>


<h3>Factor de Avance :  </h3>
<div>
{{factorDeAvance}}

{% if factorDeAvance > 1 %}
{% endif %}
{% if factorDeAvance == 1 %}
{% endif %}
{% if factorDeAvance < 1 %}
{% endif %}
</div>

</div>
<!--Script para barra de progreso de horas-->
<script type="text/javascript">
  const collection = document.getElementsByClassName("progress-bar bg-gradient-primary");
  
  collection[0].setAttribute("aria-valuenow", "{{porcentaje}}");
  collection[0].setAttribute("style", "width: {{width}}%;");

  collection[1].setAttribute("aria-valuenow", "");
  collection[1].setAttribute("style", "width: {{porcentajeWidthDaysYear}}%;");
</script>

</div>

{% endblock %}